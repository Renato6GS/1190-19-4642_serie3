<!DOCTYPE HTML>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
	<meta charset="utf-8" name="viewport"
		content="width=device-width, initial-scale=1"
		http-equiv="X-UA-Conpatible" />
	<title>Datos pacientes</title>

	<link rel="stylesheet"
		href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
		integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
		crossorigin="anonymous"></link>
</h:head>
<h:body>
	<div class="container">
		<div class="row mt-5">
			<div class="col-12 mb-3">
				<h:form>
				
					<h:commandButton action="#{pacienteBean.registrarPaciente()}" value="Nuevo paciente" class="btn btn-primary btn-sm mb-3"></h:commandButton>
							
					<h:dataTable class="table table-sm table-hover table-bordered table-responsive-lg" value="#{pacienteBean.obtenerPacientes()}" var="paciente">
						<h:column>
							<f:facet name="header">Id</f:facet>
							<h:outputText value="#{paciente.idpaciente}" ></h:outputText>
						</h:column>
						
						<h:column>
							<f:facet name="header">Nombres</f:facet>
							<h:outputText value="#{paciente.nombres}" ></h:outputText>
						</h:column>
						
						<h:column>
							<f:facet name="header">Apellidos</f:facet>
							<h:outputText value="#{paciente.apellidos}" ></h:outputText>
						</h:column>
						
						<h:column>
							<f:facet name="header">...</f:facet>
							<h:commandButton action="#{pacienteBean.editarPaciente(paciente.idpaciente)}" value="Ver más..." class="btn btn-link"></h:commandButton>
						</h:column>
						
						<h:column>
							<f:facet name="header">Actualizar</f:facet>
							<h:commandButton action="#{pacienteBean.editarPaciente(paciente.idpaciente)}" value="Editar" class="btn btn-warning btn-block"></h:commandButton>
						</h:column>
						
						<h:column>
							<f:facet name="header">Eliminar</f:facet>
							<h:commandButton onclick="eliminar();" action="#{pacienteBean.eliminar(paciente.idpaciente)}" value="Eliminar" class="btn btn-danger btn-block"></h:commandButton>
						</h:column>
						
					</h:dataTable>
					
					<button type="button" class="btn btn-dark btn-sm mt-3" onclick="acercaDe();">Acerca de</button>
					
				</h:form>
			</div>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
		crossorigin="anonymous"></script>
		
		
	<script src="//cdn.jsdelivr.net/npm/sweetalert2@10"></script>
	<script src="sweetalert2.all.min.js"></script>
	<script src="sweetalert2.min.js"></script>
		
	<script type="text/javascript"> 
 		function acercaDe(){
 			Swal.fire({
 				  icon: 'info',
 				  title: 'Universidad Mariano Gálvez de Zacapa',
 				  text: 'Catedrático: Ing. José Vinicio Peña Román Estudiante: Luis Renato Granados Ogáldez Carnet: 1190-19-4642',
 				})
 		}
 		
 		function eliminar(){
 			Swal.fire({
				  icon: 'success',
				  title: 'Éxito',
				  text: 'Registro eliminado',
			})
 		}
	</script>

</h:body>
</html>